{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\OneDrive\\\\Documents\\\\ate\\\\harena\\\\src\\\\pages\\\\cart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Button, Link } from '@mui/material';\nimport Navbar from './Navbar';\nimport axios from 'axios';\nimport ImageList from '@mui/material/ImageList';\nimport ImageListItem from '@mui/material/ImageListItem';\nimport { Delete, ShoppingCart } from '@mui/icons-material';\nimport { Stack } from '@mui/system';\nimport ShoppingBasketIcon from '@mui/icons-material/ShoppingBasket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api = axios.create({\n  baseURL: \"http://localhost:5000/custom\"\n});\nconst z = x => {\n  if (x < 600) return \"180px\";else return \"250px\";\n};\nconst y = x => {\n  if (x < 600) return 2;else if (x < 1000) return 3;else return 5;\n};\nvar width = window.innerWidth;\nexport default function Cart() {\n  _s();\n  const [dense, setDense] = React.useState(false);\n  const [carts, setcarts] = useState([]);\n  const [loaddelete, selloadelete] = useState(false);\n  const handleDeleteCart = cid => {\n    console.log(\"deleting cart cid \", cid);\n    api.post('/delcart', {\n      cid\n    }, {\n      withCredentials: true\n    }).then(res => {\n      if (res.status == 200) {\n        selloadelete(!loaddelete);\n      }\n    });\n  };\n  useEffect(() => {\n    api.get('/cart', {\n      withCredentials: true\n    }).then(res => {\n      if (res.status == 200) {\n        console.log(\"res\", res);\n        setcarts([...res.data.rows]);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [loaddelete]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      flexGrow: 1,\n      width: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: \"relative\",\n        marginTop: \"40px\"\n      },\n      children: carts.length > 0 && /*#__PURE__*/_jsxDEV(ImageList, {\n        cols: y(width),\n        sx: {\n          position: \"relative\"\n        },\n        children: carts.map(cart => /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            borderColor: \"black\",\n            borderWidth: \"4px\",\n            width: z(width)\n          },\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            href: `/details/${cart.Product.pid}`,\n            children: /*#__PURE__*/_jsxDEV(ImageListItem, {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `http://localhost:5000/images/${cart.Product.letmeSee}`,\n                alt: cart.Product.pname,\n                loading: \"lazy\",\n                style: {\n                  backgroundColor: \"gray\",\n                  height: \"200px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              backgroundColor: \"white\",\n              maxHeight: \"110px\",\n              width: z(width),\n              overflow: \"hidden\",\n              textOverflow: \"...\"\n            },\n            children: cart.Product.pname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"green\"\n            },\n            children: cart.Product.price + \"Birr\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n            direction: \"row\",\n            gap: 2,\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              color: \"error\",\n              sx: {\n                height: \"30px\",\n                color: \"white\"\n              },\n              variant: \"contained\",\n              startIcon: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 45\n              }, this),\n              onClick: () => {\n                handleDeleteCart(cart.cid);\n              },\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              sx: {\n                height: \"30px\"\n              },\n              variant: \"contained\",\n              startIcon: /*#__PURE__*/_jsxDEV(ShoppingBasketIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 45\n              }, this),\n              onClick: () => {},\n              children: \"Buy!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 9\n          }, this)]\n        }, cart.cid, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 32\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"p5Nrq4BDQS9zOyENGh/ukutDnKo=\");\n_c = Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","useEffect","Box","Button","Link","Navbar","axios","ImageList","ImageListItem","Delete","ShoppingCart","Stack","ShoppingBasketIcon","api","create","baseURL","z","x","y","width","window","innerWidth","Cart","dense","setDense","carts","setcarts","loaddelete","selloadelete","handleDeleteCart","cid","console","log","post","withCredentials","then","res","status","get","data","rows","catch","err","flexGrow","position","marginTop","length","map","cart","borderColor","borderWidth","Product","pid","letmeSee","pname","backgroundColor","height","maxHeight","overflow","textOverflow","color","price"],"sources":["C:/Users/user/OneDrive/Documents/ate/harena/src/pages/cart.jsx"],"sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport {Box,Button,Link} from '@mui/material';\r\nimport Navbar from './Navbar';\r\nimport axios from 'axios';\r\nimport ImageList from '@mui/material/ImageList';\r\nimport ImageListItem from '@mui/material/ImageListItem';\r\nimport {Delete, ShoppingCart} from '@mui/icons-material';\r\nimport { Stack } from '@mui/system';\r\nimport ShoppingBasketIcon from '@mui/icons-material/ShoppingBasket';\r\nconst api=axios.create({\r\n  baseURL:\"http://localhost:5000/custom\"\r\n})\r\nconst z= (x)=>{\r\n  if(x<600) return \"180px\";\r\n  else  return \"250px\";\r\n}\r\nconst y= (x)=>{\r\n  if(x<600) return 2;\r\n  else if (x<1000) return 3;\r\n  else  return 5;\r\n}\r\nvar width = window.innerWidth;\r\nexport default function Cart() {\r\n  const [dense, setDense] = React.useState(false);\r\n  const [carts,setcarts]=useState([]);\r\n  const [loaddelete,selloadelete]=useState(false);\r\n  const handleDeleteCart=(cid)=>{\r\n    console.log(\"deleting cart cid \",cid);\r\n    api.post('/delcart',{cid},{\r\n      withCredentials:true\r\n    }).then(res=>{\r\n      if(res.status==200){\r\n          selloadelete(!loaddelete);\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(()=>{\r\n      api.get('/cart',{\r\n        withCredentials:true\r\n      })\r\n      .then(res=>{\r\n        if(res.status==200){\r\n          console.log(\"res\",res);\r\n          setcarts([...res.data.rows]);\r\n        }\r\n      })\r\n      .catch(err=>{\r\n        console.log(err);\r\n      })\r\n      \r\n  },[loaddelete])\r\n  return (\r\n    <Box sx={{ flexGrow: 1, width:\"100%\" }}>\r\n        <Navbar/>\r\n        <Box sx={{position:\"relative\",marginTop:\"40px\"}}>\r\n            {carts.length>0 && <ImageList  cols={y(width)}  sx={{ \r\n        position:\"relative\" \r\n    }}>\r\n        {carts.map((cart) => (\r\n          <Box key={cart.cid} sx={{\r\n            borderColor:\"black\",\r\n            borderWidth:\"4px\",\r\n            \r\n            width:z(width),\r\n            }}>\r\n        <Link href={`/details/${cart.Product.pid}`}>\r\n            <ImageListItem  >\r\n                <img\r\n                    src={`http://localhost:5000/images/${cart.Product.letmeSee}`}\r\n                    alt={cart.Product.pname}\r\n                    loading=\"lazy\"\r\n                    style={{\r\n                      backgroundColor:\"gray\",\r\n                      height:\"200px\",\r\n                  }}\r\n                />\r\n        </ImageListItem>\r\n        </Link>\r\n        <p style={{backgroundColor:\"white\",\r\n          maxHeight :\"110px\",\r\n          width:z(width),\r\n          overflow: \"hidden\",\r\n          textOverflow:\"...\"\r\n            }}>{cart.Product.pname}\r\n            </p>\r\n            <p style={{color:\"green\"}}>{cart.Product.price+\"Birr\"}</p>\r\n        <Stack direction={\"row\"} gap={2}>\r\n          <Button color='error' sx={{\r\n            height:\"30px\",\r\n            color:\"white\"\r\n          }} variant=\"contained\" startIcon={<Delete />}\r\n          onClick={()=>{ handleDeleteCart(cart.cid)\r\n          }}\r\n          >\r\n          Delete\r\n          </Button>\r\n          <Button sx={{\r\n            height:\"30px\"\r\n          }} variant=\"contained\" startIcon={<ShoppingBasketIcon />}\r\n          onClick={()=>{\r\n          }}\r\n          >\r\n          Buy!\r\n          </Button>\r\n        </Stack>\r\n        \r\n        </Box>\r\n      ))}\r\n    </ImageList>}\r\n            </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}